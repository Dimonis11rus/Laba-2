#include <iostream>
#include <locale>
#include <cstdio>
#include <cstring>
#include <windows.h>
#include <iomanip>

using namespace std;
HANDLE hConsoleHandle=GetStdHandle(STD_OUTPUT_HANDLE);

class SIGN
{

private:
    char *name;
    char *surname;
    char *zodiac_sign;
    int birthday[3];
public:
    SIGN()
    {
        name=new char[15];
        surname=new char[15];
        zodiac_sign=new char[15];

    }
    friend bool Sort(SIGN, SIGN);
    friend ostream& operator << (ostream&, SIGN&);
    friend istream& operator >> (istream&, SIGN&);
    ~SIGN()
    {
        delete [] name;
        delete [] surname;
        delete [] zodiac_sign;
    }
};

bool Sort(SIGN frst, SIGN scnd)
{
    unsigned int a, b;
    a=frst.birthday[0]+frst.birthday[1]*30+frst.birthday[2]*365;
    b=scnd.birthday[0]+scnd.birthday[1]*30+scnd.birthday[2]*365;
    if(a>b)
        return true;
    else
        return false;
}

ostream& operator << (ostream& os, SIGN& sn)
{
    SetConsoleTextAttribute(hConsoleHandle, 9);
    os<<setw(12)<<sn.surname<<' ';
    os<<setw(10)<<sn.name;
    SetConsoleTextAttribute(hConsoleHandle, 14);
    os<<setw(10)<<sn.zodiac_sign<<setw(6);
    SetConsoleTextAttribute(hConsoleHandle, 4);
    os<<sn.birthday[0]<<'.';
    os<<sn.birthday[1]<<'.';
    os<<sn.birthday[2]<<"г."<<"\n\n";
    SetConsoleTextAttribute(hConsoleHandle, 15);
    return os;
}
istream& operator >> (istream& is, SIGN& sn)
{
    cout<<"Введите фамилию: ";
    is>>sn.surname;
    cout<<"Введите имя: ";
    is>>sn.name;
    cout<<"Введите знак зодиака: ";
    is>>sn.zodiac_sign;
    cout<<"Введите дату: ";
    is>>sn.birthday[0];
    cout<<"Введите месяц: ";
    is>>sn.birthday[1];
    cout<<"Введите год: ";
    is>>sn.birthday[2];
    cout<<"\n\n";
    return is;
}

int main()
{
    setlocale(LC_ALL, "rus");
    SIGN obj[8];
    char choise;
    for(int i=0; i<8; i++)
        cin>>obj[i];
    system("cls");
    SIGN buf;
    for(int i=0; i<8-1; i++)
    {
        for(int j=0; j<8-i-1; j++)
        {
            if(Sort(obj[j], obj[j+1])) {
                buf = obj[j];
                obj[j] = obj[j+1];
                obj[j+1] = buf;
            }
        }
    }
    while(1)
    {
        cout<<"1)Вывести все записи\n2)Вывести записи по знаку зодиака\n0)Выход\n>";

        for(int i=0; i<8; i++)
            cout<<obj[i];
    }
    return 0;
}
